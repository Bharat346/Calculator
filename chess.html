<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chess</title>
    <style>
        #board {
            display: grid;
            grid-template-columns: repeat(8, 60px);
            grid-template-rows: repeat(8, 60px);
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%,-50%);
        }
        .cell {
            width: 60px;
            height: 60px;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #eee;
            border: 1px solid #999;
            box-sizing: border-box;
        }
        .cell.black {
            background-color: #999;
        }
        .piece {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            /* background-color: #ff0; */
            cursor: pointer;
            font-size: 2.5rem; 
            line-height: 50px;
            display: grid;
            place-content: center; 
        }
    </style>
</head>
<body>
    <div id="board"></div>
    <script>
        const pieces = {
            white: {
                pawn: '\u2659', // ♙
                rook: '\u2656', // ♖
                knight: '\u2658', // ♘
                bishop: '\u2657', // ♗
                queen: '\u2655', // ♕
                king: '\u2654' // ♔
            },
            black: {
                pawn: '\u265F', // ♟
                rook: '\u265C', // ♜
                knight: '\u265E', // ♞
                bishop: '\u265D', // ♝
                queen: '\u265B', // ♛
                king: '\u265A' // ♚
            }
        };

        // Initialise the chess board
        const board = document.getElementById("board");
        for (let row = 0; row < 8; row++) {
            for (let col = 0; col < 8; col++) {
                const cell = document.createElement("div");
                cell.classList.add("cell");
                if ((row + col) % 2 === 0) {
                    cell.classList.add("black");
                }
                cell.dataset.row = row;
                cell.dataset.col = col;
                board.appendChild(cell);
            }
        }

        function add_piece(row,col,piece){
            const cell = document.querySelector(`.cell[data-row="${row}"][data-col="${col}"]`);
            const pieceElement = document.createElement('div');
            pieceElement.classList.add('piece');
            pieceElement.textContent = piece;
            cell.appendChild(pieceElement);
        }

        add_piece(0,0,pieces.black.rook)
        add_piece(0,1,pieces.black.knight)
        add_piece(0,2,pieces.black.bishop)
        add_piece(0,3,pieces.black.queen)
        add_piece(0,4,pieces.black.king)
        add_piece(0,5,pieces.black.bishop)
        add_piece(0,6,pieces.black.knight)
        add_piece(0,7,pieces.black.rook)

        for (let i = 0; i < 8; i++) {
            add_piece(1,i,pieces.black.pawn)
            add_piece(6,i,pieces.white.pawn)
        }

        add_piece(7,0,pieces.white.rook)
        add_piece(7,1,pieces.white.knight)
        add_piece(7,2,pieces.white.bishop)
        add_piece(7,3,pieces.white.queen)
        add_piece(7,4,pieces.white.king)
        add_piece(7,5,pieces.white.bishop)
        add_piece(7,6,pieces.white.knight)
        add_piece(7,7,pieces.white.rook)
        
        // Event listener for moving pieces
        let selectedPiece = null;
        let isWhiteTurn = false;
        board.addEventListener('click', function(event) {
            const cell = event.target.closest('.cell');
            if (!cell) return;

            const { row, col } = cell.dataset;

            if (!selectedPiece) {
                // Select the piece
                if (cell.children.length === 0 || (isWhiteTurn && cell.children[0].textContent.charCodeAt(0) <= 9817) || (!isWhiteTurn && cell.children[0].textContent.charCodeAt(0) > 9817)) {
                    // Only allow moving pieces that belong to the current player
                    return;
                }
                selectedPiece = cell.children[0];
            } else {
                // Move the selected piece
                if (cell.children.length === 0) {
                    cell.appendChild(selectedPiece);
                } else {
                    cell.innerHTML = '';
                    cell.appendChild(selectedPiece);
                }
                selectedPiece = null;
                isWhiteTurn = !isWhiteTurn; // Toggle turn after each move
            }
        });
    </script>
</body>
</html>
